{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Abe/Documents/projects/trash-online/client/src/views/HostGame.js\";\nimport React, { Component } from \"react\";\nimport { host } from \"../GameFunctions\";\nimport jwt_decode from \"jwt-decode\";\n\nclass HostGame extends Component {\n  constructor() {\n    super();\n    this.state = {\n      gameName: \"\",\n      password: \"\"\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    try {\n      const token = localStorage.token;\n      const decoded = jwt_decode(token);\n      if (Date.now() >= decoded.exp * 1000) throw new Error(\"token expired\");\n    } catch (err) {\n      this.props.history.push(`/users/login`);\n    }\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const newGame = {\n      host: this.state.username,\n      gameName: this.state.gameName,\n      password: this.state.password\n    };\n    host(newGame).then(res => {\n      if (!res.error) {\n        this.props.history.push(`/table`);\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 m-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"fas fa-3x\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, \"Host Game\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      noValidate: true,\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 19\n      }\n    }, \"Game Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"name\",\n      id: \"gameName\",\n      name: \"gameName\",\n      className: \"form-control\",\n      placeholder: \"Enter Game Name\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 19\n      }\n    }, \"Game Password (Optional)\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"password\",\n      name: \"password\",\n      className: \"form-control\",\n      placeholder: \"Enter Game Password\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, \"Create Game\"))))));\n  }\n\n}\n\nexport default HostGame;","map":{"version":3,"sources":["/mnt/c/Users/Abe/Documents/projects/trash-online/client/src/views/HostGame.js"],"names":["React","Component","host","jwt_decode","HostGame","constructor","state","gameName","password","onChange","bind","onSubmit","componentDidMount","token","localStorage","decoded","Date","now","exp","Error","err","props","history","push","e","setState","target","name","value","preventDefault","newGame","username","then","res","error","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { host } from \"../GameFunctions\";\nimport jwt_decode from \"jwt-decode\";\n\nclass HostGame extends Component {\n  constructor() {\n    super();\n    this.state = {\n      gameName: \"\",\n      password: \"\",\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    try {\n      const token = localStorage.token;\n      const decoded = jwt_decode(token);\n      if (Date.now() >= decoded.exp * 1000) throw new Error(\"token expired\");\n    } catch (err) {\n      this.props.history.push(`/users/login`);\n    }\n  }\n\n  onChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const newGame = {\n      host: this.state.username,\n      gameName: this.state.gameName,\n      password: this.state.password,\n    };\n    host(newGame).then((res) => {\n      if (!res.error) {\n        this.props.history.push(`/table`);\n      }\n    });\n  }\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-5\">\n          <div className=\"col-md-6 m-auto\">\n            <h1 className=\"fas fa-3x\">Host Game</h1>\n            <div className=\"card card-body\">\n              <form noValidate onSubmit={this.onSubmit}>\n                <div className=\"form-group\">\n                  <label htmlFor=\"name\">Game Name</label>\n                  <input\n                    type=\"name\"\n                    id=\"gameName\"\n                    name=\"gameName\"\n                    className=\"form-control\"\n                    placeholder=\"Enter Game Name\"\n                    onChange={this.onChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"name\">Game Password (Optional)</label>\n                  <input\n                    type=\"password\"\n                    id=\"password\"\n                    name=\"password\"\n                    className=\"form-control\"\n                    placeholder=\"Enter Game Password\"\n                    onChange={this.onChange}\n                  />\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary btn-block\">\n                  Create Game\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HostGame;\n"]},"metadata":{},"sourceType":"module"}