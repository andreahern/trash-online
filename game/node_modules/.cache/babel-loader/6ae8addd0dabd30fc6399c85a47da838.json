{"ast":null,"code":"import _defineProperty from\"/mnt/c/Users/Abe/Documents/projects/trash-online/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/mnt/c/Users/Abe/Documents/projects/trash-online/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/mnt/c/Users/Abe/Documents/projects/trash-online/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/mnt/c/Users/Abe/Documents/projects/trash-online/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/mnt/c/Users/Abe/Documents/projects/trash-online/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/mnt/c/Users/Abe/Documents/projects/trash-online/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{host}from\"../GameFunctions\";import jwt_decode from\"jwt-decode\";var HostGame=/*#__PURE__*/function(_Component){_inherits(HostGame,_Component);var _super=_createSuper(HostGame);function HostGame(){var _this;_classCallCheck(this,HostGame);_this=_super.call(this);_this.state={gameName:\"\",password:\"\"};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(HostGame,[{key:\"componentDidMount\",value:function componentDidMount(){try{var token=localStorage.token;var decoded=jwt_decode(token);if(Date.now()>=decoded.exp*1000)throw new Error(\"token expired\");}catch(err){this.props.history.push(\"/users/login\");}}},{key:\"onChange\",value:function onChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"onSubmit\",value:function onSubmit(e){var _this2=this;e.preventDefault();var newGame={host:this.state.username,gameName:this.state.gameName,password:this.state.password};host(newGame).then(function(res){if(!res.error){_this2.props.history.push(\"/table\");}});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 m-auto\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"fas fa-3x\"},\"Host Game\"),/*#__PURE__*/React.createElement(\"div\",{className:\"card card-body\"},/*#__PURE__*/React.createElement(\"form\",{noValidate:true,onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Game Name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"name\",id:\"gameName\",name:\"gameName\",className:\"form-control\",placeholder:\"Enter Game Name\",onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Game Password (Optional)\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"password\",name:\"password\",className:\"form-control\",placeholder:\"Enter Game Password\",onChange:this.onChange})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block\"},\"Create Game\"))))));}}]);return HostGame;}(Component);export default HostGame;","map":{"version":3,"sources":["/mnt/c/Users/Abe/Documents/projects/trash-online/client/src/views/HostGame.js"],"names":["React","Component","host","jwt_decode","HostGame","state","gameName","password","onChange","bind","onSubmit","token","localStorage","decoded","Date","now","exp","Error","err","props","history","push","e","setState","target","name","value","preventDefault","newGame","username","then","res","error"],"mappings":"shCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,C,GAEMC,CAAAA,Q,oGACJ,mBAAc,0CACZ,wBACA,MAAKC,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAEXC,QAAQ,CAAE,EAFC,CAAb,CAKA,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcC,IAAd,+BAAhB,CACA,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcD,IAAd,+BAAhB,CARY,aASb,C,kFAEmB,CAClB,GAAI,CACF,GAAME,CAAAA,KAAK,CAAGC,YAAY,CAACD,KAA3B,CACA,GAAME,CAAAA,OAAO,CAAGV,UAAU,CAACQ,KAAD,CAA1B,CACA,GAAIG,IAAI,CAACC,GAAL,IAAcF,OAAO,CAACG,GAAR,CAAc,IAAhC,CAAsC,KAAM,IAAIC,CAAAA,KAAJ,CAAU,eAAV,CAAN,CACvC,CAAC,MAAOC,GAAP,CAAY,CACZ,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,iBACD,CACF,C,0CAEQC,C,CAAG,CACV,KAAKC,QAAL,oBAAiBD,CAAC,CAACE,MAAF,CAASC,IAA1B,CAAiCH,CAAC,CAACE,MAAF,CAASE,KAA1C,GACD,C,0CAEQJ,C,CAAG,iBACVA,CAAC,CAACK,cAAF,GAEA,GAAMC,CAAAA,OAAO,CAAG,CACd1B,IAAI,CAAE,KAAKG,KAAL,CAAWwB,QADH,CAEdvB,QAAQ,CAAE,KAAKD,KAAL,CAAWC,QAFP,CAGdC,QAAQ,CAAE,KAAKF,KAAL,CAAWE,QAHP,CAAhB,CAKAL,IAAI,CAAC0B,OAAD,CAAJ,CAAcE,IAAd,CAAmB,SAACC,GAAD,CAAS,CAC1B,GAAI,CAACA,GAAG,CAACC,KAAT,CAAgB,CACd,MAAI,CAACb,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,WACD,CACF,CAJD,EAKD,C,uCACQ,CACP,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,iBAAf,eACE,0BAAI,SAAS,CAAC,WAAd,cADF,cAEE,2BAAK,SAAS,CAAC,gBAAf,eACE,4BAAM,UAAU,KAAhB,CAAiB,QAAQ,CAAE,KAAKX,QAAhC,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,MAAf,cADF,cAEE,6BACE,IAAI,CAAC,MADP,CAEE,EAAE,CAAC,UAFL,CAGE,IAAI,CAAC,UAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,WAAW,CAAC,iBALd,CAME,QAAQ,CAAE,KAAKF,QANjB,EAFF,CADF,cAYE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,MAAf,6BADF,cAEE,6BACE,IAAI,CAAC,UADP,CAEE,EAAE,CAAC,UAFL,CAGE,IAAI,CAAC,UAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,WAAW,CAAC,qBALd,CAME,QAAQ,CAAE,KAAKA,QANjB,EAFF,CAZF,cAuBE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,2BAAhC,gBAvBF,CADF,CAFF,CADF,CADF,CADF,CAsCD,C,sBA/EoBP,S,EAkFvB,cAAeG,CAAAA,QAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { host } from \"../GameFunctions\";\nimport jwt_decode from \"jwt-decode\";\n\nclass HostGame extends Component {\n  constructor() {\n    super();\n    this.state = {\n      gameName: \"\",\n      password: \"\",\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    try {\n      const token = localStorage.token;\n      const decoded = jwt_decode(token);\n      if (Date.now() >= decoded.exp * 1000) throw new Error(\"token expired\");\n    } catch (err) {\n      this.props.history.push(`/users/login`);\n    }\n  }\n\n  onChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const newGame = {\n      host: this.state.username,\n      gameName: this.state.gameName,\n      password: this.state.password,\n    };\n    host(newGame).then((res) => {\n      if (!res.error) {\n        this.props.history.push(`/table`);\n      }\n    });\n  }\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-5\">\n          <div className=\"col-md-6 m-auto\">\n            <h1 className=\"fas fa-3x\">Host Game</h1>\n            <div className=\"card card-body\">\n              <form noValidate onSubmit={this.onSubmit}>\n                <div className=\"form-group\">\n                  <label htmlFor=\"name\">Game Name</label>\n                  <input\n                    type=\"name\"\n                    id=\"gameName\"\n                    name=\"gameName\"\n                    className=\"form-control\"\n                    placeholder=\"Enter Game Name\"\n                    onChange={this.onChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"name\">Game Password (Optional)</label>\n                  <input\n                    type=\"password\"\n                    id=\"password\"\n                    name=\"password\"\n                    className=\"form-control\"\n                    placeholder=\"Enter Game Password\"\n                    onChange={this.onChange}\n                  />\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary btn-block\">\n                  Create Game\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default HostGame;\n"]},"metadata":{},"sourceType":"module"}