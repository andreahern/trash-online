{"ast":null,"code":"var _jsxFileName = \"/mnt/c/Users/Abe/Documents/projects/trash-online/game/src/views/Profile.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport { stats } from \"../UserFunctions\";\n\nclass Profile extends Component {\n  constructor() {\n    super();\n    this.state = {\n      username: \"\",\n      wins: 0,\n      losses: 0\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const token = localStorage.token;\n      const decoded = jwt_decode(token);\n      if (Date.now() >= decoded.exp * 1000) throw new Error(\"token expired\");\n      this.setState({\n        username: decoded.username\n      });\n      const {\n        wins,\n        losses\n      } = await stats(decoded.userId);\n      this.setState({\n        wins,\n        losses\n      });\n    } catch (err) {\n      this.props.history.push(`/users/login`);\n    }\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const token = localStorage.token;\n    const decoded = jwt_decode(token);\n    const {\n      wins,\n      losses\n    } = await stats(decoded.userId);\n    if (prevState.wins !== wins || prevState.losses !== losses) this.setState({\n      wins,\n      losses\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 m-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"fas fa-3x\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }\n    }, \"Welcome, \", this.state.username), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 m-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, \"Wins: \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }\n    }, this.state.wins)), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, \"Losses: \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 27\n      }\n    }, this.state.losses)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 m-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-body text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/hostgame\",\n      className: \"btn btn-primary btn-block mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, \"Host Game\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/joingame\",\n      className: \"btn btn-primary btn-block mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, \"Join Game\"))))));\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/mnt/c/Users/Abe/Documents/projects/trash-online/game/src/views/Profile.js"],"names":["React","Component","Link","jwt_decode","stats","Profile","constructor","state","username","wins","losses","componentDidMount","token","localStorage","decoded","Date","now","exp","Error","setState","userId","err","props","history","push","componentDidUpdate","prevProps","prevState","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport { stats } from \"../UserFunctions\";\n\nclass Profile extends Component {\n  constructor() {\n    super();\n    this.state = {\n      username: \"\",\n      wins: 0,\n      losses: 0,\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const token = localStorage.token;\n      const decoded = jwt_decode(token);\n      if (Date.now() >= decoded.exp * 1000) throw new Error(\"token expired\");\n      this.setState({ username: decoded.username });\n      const { wins, losses } = await stats(decoded.userId);\n      this.setState({\n        wins,\n        losses,\n      });\n    } catch (err) {\n      this.props.history.push(`/users/login`);\n    }\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const token = localStorage.token;\n    const decoded = jwt_decode(token);\n    const { wins, losses } = await stats(decoded.userId);\n\n    if (prevState.wins !== wins || prevState.losses !== losses)\n      this.setState({\n        wins,\n        losses,\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"container mt-5\">\n        <div className=\"col-md-6 m-auto\">\n          <h1 className=\"fas fa-3x\">Welcome, {this.state.username}</h1>\n          <div className=\"row mt-5\">\n            <div className=\"col-md-6 m-auto\">\n              <div className=\"card card-body text-center\">\n                <h6>\n                  Wins: <b>{this.state.wins}</b>\n                </h6>\n                <h6>\n                  Losses: <b>{this.state.losses}</b>\n                </h6>\n              </div>\n            </div>\n            <div className=\"col-md-6 m-auto\">\n              <div className=\"card card-body text-center\">\n                <Link to=\"/hostgame\" className=\"btn btn-primary btn-block mb-2\">\n                  Host Game\n                </Link>\n                <Link to=\"/joingame\" className=\"btn btn-primary btn-block mb-2\">\n                  Join Game\n                </Link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}