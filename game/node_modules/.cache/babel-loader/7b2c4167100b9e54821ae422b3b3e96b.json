{"ast":null,"code":"import _regeneratorRuntime from\"/mnt/c/Users/Abe/Documents/projects/trash-online/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/mnt/c/Users/Abe/Documents/projects/trash-online/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import jwt_decode from\"jwt-decode\";import io from\"socket.io-client\";var socket=io(\"http://localhost:3002\");export var host=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(newGame){var _jwt_decode,username,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_jwt_decode=jwt_decode(localStorage.token),username=_jwt_decode.username;_context.next=3;return axios.post(\"/host\",{host:username,name:newGame.gameName,password:newGame.password},{headers:{Authorization:localStorage.token}});case 3:response=_context.sent;localStorage.setItem(\"gametoken\",response.data);return _context.abrupt(\"return\",response.data);case 6:case\"end\":return _context.stop();}}},_callee);}));return function host(_x){return _ref.apply(this,arguments);};}();export var find=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"/join\",{headers:{Authorization:localStorage.token}});case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function find(){return _ref2.apply(this,arguments);};}();export var join=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(newUser){var _jwt_decode2,username,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_jwt_decode2=jwt_decode(localStorage.token),username=_jwt_decode2.username;_context3.next=3;return axios.put(\"/join\",{guest:username,id:newUser.id,password:newUser.password},{headers:{Authorization:localStorage.token}});case 3:response=_context3.sent;localStorage.setItem(\"gametoken\",response.data);return _context3.abrupt(\"return\",response.data);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function join(_x2){return _ref3.apply(this,arguments);};}();export var getState=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(data){var response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.post(\"/state\",data,{headers:{Authorization:localStorage.token}});case 2:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function getState(_x3){return _ref4.apply(this,arguments);};}();export var deal=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id,state){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return socket.emit(\"deal\",{id:id,state:state});case 2:case\"end\":return _context5.stop();}}},_callee5);}));return function deal(_x4,_x5){return _ref5.apply(this,arguments);};}();export var draw=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id,state){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return socket.emit(\"draw\",{id:id,state:state});case 2:case\"end\":return _context6.stop();}}},_callee6);}));return function draw(_x6,_x7){return _ref6.apply(this,arguments);};}();export var take=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id,state){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return socket.emit(\"take\",{id:id,state:state});case 2:case\"end\":return _context7.stop();}}},_callee7);}));return function take(_x8,_x9){return _ref7.apply(this,arguments);};}();export var roundWon=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(id,playerWon,state){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return socket.emit(\"roundWon\",{id:id,playerWon:playerWon,state:state});case 2:case\"end\":return _context8.stop();}}},_callee8);}));return function roundWon(_x10,_x11,_x12){return _ref8.apply(this,arguments);};}();export var end=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(id,state){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return socket.emit(\"endTurn\",{id:id,state:state});case 2:case\"end\":return _context9.stop();}}},_callee9);}));return function end(_x13,_x14){return _ref9.apply(this,arguments);};}();export var swapCards=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(id,index,state){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return socket.emit(\"swap\",{id:id,index:index,state:state});case 2:case\"end\":return _context10.stop();}}},_callee10);}));return function swapCards(_x15,_x16,_x17){return _ref10.apply(this,arguments);};}();export var reset=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(id,state){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return socket.emit(\"reset\",{id:id,state:state});case 2:case\"end\":return _context11.stop();}}},_callee11);}));return function reset(_x18,_x19){return _ref11.apply(this,arguments);};}();export var scores=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(playerNumber,playerWon){return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return axios.put(\"/scores\",{playerNumber:playerNumber,playerWon:playerWon},{headers:{Authorization:localStorage.token}});case 2:case\"end\":return _context12.stop();}}},_callee12);}));return function scores(_x20,_x21){return _ref12.apply(this,arguments);};}();","map":{"version":3,"sources":["/mnt/c/Users/Abe/Documents/projects/trash-online/client/src/GameFunctions.js"],"names":["axios","jwt_decode","io","socket","host","newGame","localStorage","token","username","post","name","gameName","password","headers","Authorization","response","setItem","data","find","get","join","newUser","put","guest","id","getState","deal","state","emit","draw","take","roundWon","playerWon","end","swapCards","index","reset","scores","playerNumber"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport io from \"socket.io-client\";\n\nconst socket = io(\"http://localhost:3002\");\n\nexport const host = async (newGame) => {\n  const { username } = jwt_decode(localStorage.token);\n\n  const response = await axios.post(\n    \"/host\",\n    {\n      host: username,\n      name: newGame.gameName,\n      password: newGame.password,\n    },\n    { headers: { Authorization: localStorage.token } }\n  );\n\n  localStorage.setItem(\"gametoken\", response.data);\n  return response.data;\n};\n\nexport const find = async () => {\n  return await axios.get(\"/join\", {\n    headers: { Authorization: localStorage.token },\n  });\n};\n\nexport const join = async (newUser) => {\n  const { username } = jwt_decode(localStorage.token);\n  const response = await axios.put(\n    \"/join\",\n    {\n      guest: username,\n      id: newUser.id,\n      password: newUser.password,\n    },\n    { headers: { Authorization: localStorage.token } }\n  );\n  localStorage.setItem(\"gametoken\", response.data);\n  return response.data;\n};\n\nexport const getState = async (data) => {\n  const response = await axios.post(\"/state\", data, {\n    headers: { Authorization: localStorage.token },\n  });\n  return response.data;\n};\n\nexport const deal = async (id, state) => {\n  await socket.emit(\"deal\", { id, state });\n};\n\nexport const draw = async (id, state) => {\n  await socket.emit(\"draw\", { id, state });\n};\n\nexport const take = async (id, state) => {\n  await socket.emit(\"take\", { id, state });\n};\n\nexport const roundWon = async (id, playerWon, state) => {\n  await socket.emit(\"roundWon\", { id, playerWon, state });\n};\n\nexport const end = async (id, state) => {\n  await socket.emit(\"endTurn\", { id, state });\n};\n\nexport const swapCards = async (id, index, state) => {\n  await socket.emit(\"swap\", { id, index, state });\n};\nexport const reset = async (id, state) => {\n  await socket.emit(\"reset\", { id, state });\n};\n\nexport const scores = async (playerNumber, playerWon) => {\n  await axios.put(\n    \"/scores\",\n    {\n      playerNumber,\n      playerWon,\n    },\n    {\n      headers: { Authorization: localStorage.token },\n    }\n  );\n};\n"]},"metadata":{},"sourceType":"module"}