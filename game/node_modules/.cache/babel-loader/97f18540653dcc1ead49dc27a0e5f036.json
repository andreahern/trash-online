{"ast":null,"code":"import _defineProperty from\"/mnt/c/Users/Abe/Documents/projects/trash-online/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/mnt/c/Users/Abe/Documents/projects/trash-online/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/mnt/c/Users/Abe/Documents/projects/trash-online/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/mnt/c/Users/Abe/Documents/projects/trash-online/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/mnt/c/Users/Abe/Documents/projects/trash-online/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/mnt/c/Users/Abe/Documents/projects/trash-online/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{Link}from\"react-router-dom\";import{login}from\"../UserFunctions\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);_this=_super.call(this);_this.state={username:\"\",password:\"\",errors:null};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));_this.onSubmit=_this.onSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"onChange\",value:function onChange(e){this.setState(_defineProperty({},e.target.name,e.target.value));}},{key:\"onSubmit\",value:function onSubmit(e){var _this2=this;e.preventDefault();var user={username:this.state.username,password:this.state.password};login(user).then(function(res){if(!res.error){_this2.props.history.push(\"/profile\");}else{_this2.setState({errors:res.error});}});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mt-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 m-auto\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card card-body\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center mb-3\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-sign-in-alt\"}),\" Login\"),this.state.errors?/*#__PURE__*/React.createElement(\"p\",{style:{color:\"red\"}},this.state.errors):null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"username\"},\"Username\"),/*#__PURE__*/React.createElement(\"input\",{type:\"username\",id:\"username\",name:\"username\",className:\"form-control\",placeholder:\"Enter Username\",onChange:this.onChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",id:\"password\",name:\"password\",className:\"form-control\",placeholder:\"Enter Password\",onChange:this.onChange})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block\"},\"Login\")),/*#__PURE__*/React.createElement(\"p\",{className:\"lead mt-4\"},\"No Account? \",/*#__PURE__*/React.createElement(Link,{to:\"/users/register\"},\"Register\"))))));}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["/mnt/c/Users/Abe/Documents/projects/trash-online/client/src/views/Login.js"],"names":["React","Component","Link","login","Login","state","username","password","errors","onChange","bind","onSubmit","e","setState","target","name","value","preventDefault","user","then","res","error","props","history","push","color"],"mappings":"shCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,KAAT,KAAsB,kBAAtB,C,GAEMC,CAAAA,K,8FACJ,gBAAc,uCACZ,wBACA,MAAKC,KAAL,CAAa,CACXC,QAAQ,CAAE,EADC,CAEXC,QAAQ,CAAE,EAFC,CAGXC,MAAM,CAAE,IAHG,CAAb,CAMA,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcC,IAAd,+BAAhB,CACA,MAAKC,QAAL,CAAgB,MAAKA,QAAL,CAAcD,IAAd,+BAAhB,CATY,aAUb,C,4DAEQE,C,CAAG,CACV,KAAKC,QAAL,oBAAiBD,CAAC,CAACE,MAAF,CAASC,IAA1B,CAAiCH,CAAC,CAACE,MAAF,CAASE,KAA1C,GACD,C,0CAEQJ,C,CAAG,iBACVA,CAAC,CAACK,cAAF,GAEA,GAAMC,CAAAA,IAAI,CAAG,CACXZ,QAAQ,CAAE,KAAKD,KAAL,CAAWC,QADV,CAEXC,QAAQ,CAAE,KAAKF,KAAL,CAAWE,QAFV,CAAb,CAKAJ,KAAK,CAACe,IAAD,CAAL,CAAYC,IAAZ,CAAiB,SAACC,GAAD,CAAS,CACxB,GAAI,CAACA,GAAG,CAACC,KAAT,CAAgB,CACd,MAAI,CAACC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,aACD,CAFD,IAEO,CACL,MAAI,CAACX,QAAL,CAAc,CAAEL,MAAM,CAAEY,GAAG,CAACC,KAAd,CAAd,EACD,CACF,CAND,EAOD,C,uCAEQ,CACP,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,MAAf,eACE,2BAAK,SAAS,CAAC,iBAAf,eACE,2BAAK,SAAS,CAAC,gBAAf,eACE,0BAAI,SAAS,CAAC,kBAAd,eACE,yBAAG,SAAS,CAAC,oBAAb,EADF,UADF,CAKG,KAAKhB,KAAL,CAAWG,MAAX,cACC,yBAAG,KAAK,CAAE,CAAEiB,KAAK,CAAE,KAAT,CAAV,EAA6B,KAAKpB,KAAL,CAAWG,MAAxC,CADD,CAEG,IAPN,cASE,4BAAM,QAAQ,CAAE,KAAKG,QAArB,eACE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,UAAf,aADF,cAEE,6BACE,IAAI,CAAC,UADP,CAEE,EAAE,CAAC,UAFL,CAGE,IAAI,CAAC,UAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,WAAW,CAAC,gBALd,CAME,QAAQ,CAAE,KAAKF,QANjB,EAFF,CADF,cAYE,2BAAK,SAAS,CAAC,YAAf,eACE,6BAAO,OAAO,CAAC,UAAf,aADF,cAEE,6BACE,IAAI,CAAC,UADP,CAEE,EAAE,CAAC,UAFL,CAGE,IAAI,CAAC,UAHP,CAIE,SAAS,CAAC,cAJZ,CAKE,WAAW,CAAC,gBALd,CAME,QAAQ,CAAE,KAAKA,QANjB,EAFF,CAZF,cAuBE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,2BAAhC,UAvBF,CATF,cAoCE,yBAAG,SAAS,CAAC,WAAb,8BACc,oBAAC,IAAD,EAAM,EAAE,CAAC,iBAAT,aADd,CApCF,CADF,CADF,CADF,CADF,CAgDD,C,mBAnFiBR,S,EAsFpB,cAAeG,CAAAA,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { login } from \"../UserFunctions\";\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      username: \"\",\n      password: \"\",\n      errors: null,\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n\n    const user = {\n      username: this.state.username,\n      password: this.state.password,\n    };\n\n    login(user).then((res) => {\n      if (!res.error) {\n        this.props.history.push(`/profile`);\n      } else {\n        this.setState({ errors: res.error });\n      }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <div className=\"mt-5\">\n          <div className=\"col-md-6 m-auto\">\n            <div className=\"card card-body\">\n              <h1 className=\"text-center mb-3\">\n                <i className=\"fas fa-sign-in-alt\"></i> Login\n              </h1>\n\n              {this.state.errors ? (\n                <p style={{ color: \"red\" }}>{this.state.errors}</p>\n              ) : null}\n\n              <form onSubmit={this.onSubmit}>\n                <div className=\"form-group\">\n                  <label htmlFor=\"username\">Username</label>\n                  <input\n                    type=\"username\"\n                    id=\"username\"\n                    name=\"username\"\n                    className=\"form-control\"\n                    placeholder=\"Enter Username\"\n                    onChange={this.onChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"password\">Password</label>\n                  <input\n                    type=\"password\"\n                    id=\"password\"\n                    name=\"password\"\n                    className=\"form-control\"\n                    placeholder=\"Enter Password\"\n                    onChange={this.onChange}\n                  />\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary btn-block\">\n                  Login\n                </button>\n              </form>\n              <p className=\"lead mt-4\">\n                No Account? <Link to=\"/users/register\">Register</Link>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}